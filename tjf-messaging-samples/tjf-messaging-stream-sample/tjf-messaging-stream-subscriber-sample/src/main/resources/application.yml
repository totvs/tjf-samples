server:
  port: 8180

spring:
  cloud:
    stream:
      defaultBinder: rabbit1

      binders:
        rabbit1:
          type: rabbit
          environment:
            spring:
              rabbit:
                host: localhost
      
      bindings:
        starship-input:
          destination: starship-input
          group: readers
          binder: rabbit1
        starship-output:
          destination: starship-output
          group: readers
          binder: rabbit1

      rabbit:
        default:
          exchangeType: headers
        bindings:
          starship-input:
            producer:
              exchangeType: headers
          starship-output:
            consumer:
              exchangeType: headers

#      function:
#        routing:
#          enabled: true
#        routing-expression: "headers.contentType.toString().equals('StarShipArrivedEvent') ? 'subscribearrived' : 'subscribeleft'"      
